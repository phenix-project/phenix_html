<!--REMARK PHENIX TITLE START  Put your title here-->


<p></p><H5><U>PHENIX FAQS</U></H5>

<!--REMARK PHENIX TITLE END-->

<!--REMARK PHENIX BODY START   Put your text here.
Anything enclosed in header html H4 H5 etc will go in the table of contents>


<H5>How should I cite PHENIX?</H5>
<p>
If you use PHENIX please cite:
</p><p>
Adams, P.D., Grosse-Kunstleve, R.W., Hung, L.-W., Ioerger, T.R., McCoy, A.J.,
Moriarty, N.W., Read, R.J., Sacchettini, J.C., Sauter, N.K., Terwilliger, T.C.
(2002). PHENIX: building new software for automated crystallographic structure
determination. Acta Cryst. D58, 1948-1954.

</p>



<H5>Where can I find sample data?</H5>
<p>You can find sample data in the directories located in:
<b>$PHENIX/examples</b>. Additionally there is sample MR data
 in <b>$PHENIX/phaser/tutorial</b>.
</p>
<H5>Can I easily run a Wizard with some sample data?</H5>
<p>You can run sample data with a Wizard with a simple command. To run
<b>p9-sad</b> sample data with the AutoSol wizard, you type:
</p><PRE style="face=courier">phenix.run_example  p9-sad </PRE>
<p>This command copies the <b>$PHENIX/examples/p9-sad</b> directory to 
your working directory and executes the commands in the file 
<b>run.csh</b>.</p>

<H5>What sample data are available to run automatically?</H5>
<p>You can see which sample data are set up to run automatically
by typing: 
</p><PRE style="face=courier">phenix.run_example  --help </PRE>
<p>This command lists all the directories in <b>$PHENIX/examples/</b> that
have a command file <b>run.csh</b> ready to use. For example:
</p><PRE style="face=courier">phenix.run_example  --help 

PHENIX run_example script. Fri Jul  6 12:07:08 MDT 2007

Use: phenix.run_example example_name [--all] [--overwrite]
Data will be copied from PHENIX examples into subdirectories
of this working directory
If --all is set then all examples will be run (takes a long time!)
If --overwrite is set then the script will overwrite subdirectories

List of available examples:  1J4R-ligand a2u-globulin-mr gene-5-mad 
p9-build p9-sad 

</PRE>

<H5>Are any of the sample datasets annotated?</H5>
<p>The PHENIX tutorials listed on the main
<a href="phenix_documentation.html">PHENIX </a>
web page will walk you through sample datasets, telling
you what to look for in the output files. For example, the
<A href="tutorial_sad.htm">Tutorial 1: Solving a structure using SAD data</A>
tutorial uses the <b>p9-sad</b> dataset as example. It tells you how to
run this example data in AutoSol and how to interpret the results.
</p>

<H5>Why does the AutoBuild Wizard say it is doing 2 rebuild cycles but I specified one?</H5>
<p>The AutoBuild wizard adds a cycle just before the rebuild cycles in which
nothing happens except refinement and grouping of models from any previous
build cycles.
</p>
 
<H5>Can PHENIX do MRSAD?</H5>
<p>Yes, PHENIX can run MRSAD (molecular replacement, combined with SAD
phases) by determining the anomalous scatterer substructure from a 
model-phased anomalous difference Fourier.  
There is a set of sample commands to do this in the 
<a href="automr.htm">AutoMR</a>
documentation.
</p>
<p>There is an alternative procedure in Phaser, which uses 
log-likelihood-gradient completion to find the anomalous scatterers, 
treating the molecular replacement model as a starting substructure.  
If you are carrying out SAD phasing with Phaser, you can use 
this procedure in AutoSol with the keyword
</p><PRE style="face=courier">input_partpdb_file=MR.pdb 
</PRE>
In this case the MR.pdb file will be used to calculate phases and identify
sites in Phaser, and the combined MR+SAD phases will be written out.
At the moment the AutoBuild Wizard is not equipped to use these combined
phases optimally in iterative model-building, density modification
and refinement, but this will be implemented as part of the AutoBuild
Wizard in a future release of Phenix.
</p>
 
<H5>What can I do if a Wizard says 
<b> this version does not seem big enough</b>? </H5>

<p>The Wizards try to automatically determine the size of solve or resolve,
but if your data is very high resolution or a very large unit cell, you
can get the message:

</p><PRE style="face=courier"> ***************************************************
 Sorry, this version does not seem big enough...
 (Current value of isizeit is  30)
 Unfortunately your computer will only accept a size of  30
 with your current settings.
 You might try cutting back the resolution
 You might try "coarse_grid" to reduce memory
 You might try "unlimit" allow full use of memory
 ***************************************************
</PRE>
<p>You cannot get rid of this problem by specifying the resolution with
</p><PRE style="face=courier">resolution=4.0
</PRE>
because the Wizards use the resolution cutoff you specify in all calculations,
but the high-res data is still carried along. 
</p>

<p>The easiest solution to this problem is to edit your data file to have lower-
resolution data. You can do it like this:
</p>
<PRE style="face=courier">phenix.reflection_file_converter huge.sca --sca=big.sca --resolution=4.0
</PRE>
</p>
<p>A second solution is to tell the Wizard to ignore the high-res data 
explicitly with:
<PRE style="face=courier">
resolution=4.0 \
resolve_command="'resolution 200 4.0'" \
solve_command="'resolution 200 4.0'" \
resolve_pattern_command="'resolution 200 4.0'"
</PRE>
Note the two sets of quotes; both are required for this command-line input.
These commands are applied after all other inputs in resolve/solve/resolve_pattern
and therefore all data outside these limits will be ignored. 
</p>

<H5>Why does the AutoBuild Wizard say <b>Sorry, you need to 
define FP in labin</b> but AutoMR was able to read my data file just fine?</H5>
<p>When you run AutoMR and let it continue on to the AutoBuild Wizard
automatically, the AutoBuild wizard guesses the input file contents 
separately from AutoMR.  Usually it can guess correctly, but if it 
cannot then you can tell it what the labels for FP SIGFP FreeR_flag are
like this:
</p><PRE style="face=courier">autobuild_input_labels="myFP mySIGFP myFreeR_flag"
</PRE>
where you can say <b>None</b> for anything that you do not want to define.
This has an effect that is identical to specifying <b>input_labels</b> 
directly when you run AutoBuild.
</p>

<H5>Why does the AutoBuild Wizard just stop after a few seconds?</H5>
<p>When you run AutoBuild from the command line
it writes the output to a file and says something
like:
</p><PRE style="face=courier">Sending output to  AutoBuild_run_3_/AutoBuild_run_3_1.log </PRE>
Usually if something goes wrong with the inputs then it will give you
an error message right on the screen. However a few types of errors are only
written to the log file, so if AutoBuild just stops after a few seconds,
have a look at this log file and it should have an error message at the
end of the file.  
</p>

<H5>What do I do if the PHENIX GUI hangs?</H5>
<p>If the GUI hangs (windows do not respond or windows display partially) then
you may want to try and kill it by clicking on the upper right corner ,
or right-clicking on the top bar of the GUI and closing it. If those fail,
you can control-C in the window where you started up the GUI.
In either case, you can restart the GUI by typing <b>phenix</b> again. You
may find it necessary to start phenix up, then close it down nicely with
Project/Exit, and restart it (this gets rid of some files that are deleted
when the GUI closes normally).  You may also occasionally find it necessary
to kill any jobs that are still running by running <b>top</b> and
noticing if there are python or resolve or solve jobs running that were
part of your PHENIX job, then using <b>k</b> to kill those jobs while
running top.
</p>

<H5>Why does the GUI Parameters window say <b>Invalid input parameters...do you want to continue?</b></H5>
<p>This happens if something in the window isn't correct. If no colored entry fields come up, have a look at the bottom where it says NAVIGATE  SET VARIABLE AUTO MANUAL.  The entry forms under these words should read:
&quot;Choose method to run&quot;  &quot;Choose variable to set&quot; and &quot;Manual&quot; (or &quot;Automatic&quot;)
unless you have intentionally set them.
If that isn't it, look carefully at all the entries in the
entire parameters window and make sure that they
are of the type that is expected (file name, number, etc).  If that doesn't
work, just click YES and carry on.
</p>

<H5>How do I stop a Wizard?</H5>
<p>You can stop a Wizard in two ways. For a &quot;soft&quot; stop, press the &quot;Pause&quot; button
if you are running from the GUI, or create a file with the name STOPWIZARD in
the directory where the Wizard is running (i.e., create
 AutoBuild_run_4_/STOPWIZARD to stop run 4 of the AutoBuild Wizard).
For a hard stop from the GUI, you can select &quot;Strategy&quot; on the top line of
the GUI and then select &quot;Stop Strategy&quot; at the bottom of the choices. That
kills the Wizard and all associated jobs.  You can still go on from there;
select the Parameters window (the lines at the upper left of the now-yellow
GUI window) and choose what to do next.
</p>


<H5>What is an R-free flags mismatch?</H5>
When you run AutoBuild or phenix.refine you may get this error message or
a similar one:
</p><PRE style="face=courier"> ************************************************************
Failed to carry out AutoBuild_build_cycle:
Please resolve the R-free flags mismatch.
************************************************************
</PRE>
Phenix.refine keeps track of which reflections are used as the test set
(i.e., not used in refinement but only in estimation of overall parameters).
The test set identity is saved as a hex-digest and written to the output
PDB file produced by phenix.refine as a REMARK record:
</p><PRE style="face=courier">  REMARK r_free_flags.md5.hexdigest 41aea2bced48fbb0fde5c04c7b6fb64</PRE>
Then when phenix.refine reads a PDB file and a set of data, it checks to make
sure that the same test set is about to be used in refinement as it was
in the previous refinement of this model.  If it does not, you get the
error message about an R-free flags mismatch.  
<p>Sometimes the  R-free flags mismatch error is telling you something 
important: you need to make sure that the same test set is used throughout
refinement. In this case, you might need to change the data file you are using
to match the one previously used with this PDB file. Alternatively you might
need to start your refinement over with the desired data and test set.
<p>Other times the warning is not applicable.  If you have two datasets with
the same test set, but one dataset has one extra reflection that contains 
no data, only indices, then the two datasets will have different hex digests
even though they are for all practical purposes equivalent. In this case 
you would want to ignore the hex-digest warning.
<p>If you get an  R-free flags mismatch error,
you can tell the AutoBuild Wizard to ignore the warning with :
</p><PRE style="face=courier">skip_hexdigest=True</PRE>
and you can tell phenix.refine to ignore it with:
</p><PRE style="face=courier">refinement.input.r_free_flags.ignore_pdb_hexdigest=True</PRE>
You can also simply delete the REMARK record from your PDB file if you wish 
to ignore the hex-digest warnings.
<p>
</p> 

<H5>Can I use the AutoBuild wizard at low resolution?  </b></H5>
<p>The standard building with AutoBuild does not work very well at 
resolutions below about 3-3.2 A.  In particular, the wizard tends to build
strands into helical regions at low resolution.
However you can specify "helices_strands_only=True" and
the wizard will just build regions that are helical or beta-sheet, using
a completely different algorithm. This is much
quicker than standard building but much less complete as well.
</p>
<!--REMARK PHENIX BODY END-->

